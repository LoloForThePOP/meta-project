{% extends 'base.html.twig' %}

{% block stylesheets %}<link rel="stylesheet" href="/css/app_forms.css" />{% endblock %}

{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block title %}Modifier une Actualité{% endblock %}

{% block body %}

<div class="container">

    <h3 class="my-5 font-weight-bold">Modifier une Actualité</h3>

    {{ form_start(form) }}

    <!-- News Title Edition -->

    <div class="mb-4">

        {{form_row(form.title)}}

    </div>

    <!-- News Text Content Edition -->

    <div class="mb-4">

        {{form_row(form.textContent)}}

    </div>



    <!-- Images & their captions Edition -->

    <h4 class="mb-3 font-weight-bold">Images</h4>

    <div class="container mb-5">

        <div class="row">
            
        <!-- First Image Edition -->

        <div class="col-md-4 p-3 bg-light border border-warning">

            <!-- Form First Image Label -->
        
            <div class="mb-2">
        
                <span class="textblack"> {{form_label(form.image1File)}}</span>
        
            </div>
        
            <!-- Case image1 already Exists -->
            <!-- We display it -->
        
            {% if news.image1 %}
        
                <div class="row mx-md-1 border rounded alert bg-white text-body">
        
                <div class="col-md-auto mb-sm-2 mb-md-0">
        
                    <div class="d-inline-block position-relative">
        
                        <div class="m-0 p-0 d-flex align-items-center justify-content-center ">
        
                        <img class="d-block" src="/images/news/{{news.image1}}" style="min-width:100px; min-height:100px;max-width:150px; max-height:150px" alt="">
        
                        </div>
        
        
                    </div>
        
                </div>
        
                <!-- We propose to change image1 -->
        
                <div class="col pl-md-3">
        
                    <div class="row d-inline-block">
                    
                        <div class="h5 font-weight-bold my-2">
        
                        Changer
        
                        </div>
        
                        {{form_widget(form.image1File)}}
        
                    </div> 
        
                </div>
        
                </div>
        
            <!-- Case no image1 yet -->
            <!-- We propose an upload -->
        
            {% else %}
        
                <div class="pt-3">
                
                {{form_widget(form.image1File)}}
        
                </div>
        
            {% endif %}

            <div class="">

                {{form_label(form.captionImage1)}}
                {{form_widget(form.captionImage1)}}

            </div>
        
        </div>
        
        <!-- Second Image Edition -->
    
        <div class="col-md-4 p-3 bg-light border border-warning">
        
            <!-- Form Second Image Label -->
        
            <div class="mb-2">
        
                <span class="textblack"> {{form_label(form.image2File)}}</span>
        
            </div>
        
            <!-- Case image 2 already Exists -->
            <!-- We display it -->
        
            {% if news.image2 %}
        
                <div class="row mx-md-1 border rounded alert bg-white text-body">
        
                <div class="col-md-auto mb-sm-2 mb-md-0">
        
                    <div class="d-inline-block position-relative">
        
                        <div class="m-0 p-0 d-flex align-items-center justify-content-center ">
        
                        <img class="d-block" src="/images/news/{{news.image2}}" style="min-width:100px; min-height:100px;max-width:150px; max-height:150px" alt="">
        
                        </div>
        
        
                    </div>
        
                </div>
        
                <!-- We propose to change image 2 -->
        
                <div class="col pl-md-3">
        
                    <div class="row d-inline-block">
                    
                        <div class="h5 font-weight-bold my-2">
        
                        Changer
        
                        </div>
        
                        {{form_widget(form.image2File)}}
        
                    </div> 
        
                </div>
        
                </div>
        
            <!-- Case no image 2 yet -->
            <!-- We propose an upload -->
        
            {% else %}
        
                <div class="pt-3">
                
                {{form_widget(form.image2File)}}
        
                </div>
        
            {% endif %}
            
            <div class="">

                {{form_label(form.captionImage2)}}
                {{form_widget(form.captionImage2)}}

            </div>
        
        </div>
    
        <!-- Third Image Edition -->
    
        <div class="col-md-4 p-3 bg-light border border-warning">
        
            <!-- Form Third Image Label -->
        
            <div class="mb-2">
        
                <span class="textblack"> {{form_label(form.image3File)}}</span>
        
            </div>
        
            <!-- Case image 3 already Exists -->
            <!-- We display it -->
        
            {% if news.image3 %}
        
                <div class="row mx-md-1 border rounded alert bg-white text-body">
        
                <div class="col-md-auto mb-sm-2 mb-md-0">
        
                    <div class="d-inline-block position-relative">
        
                        <div class="m-0 p-0 d-flex align-items-center justify-content-center ">
        
                        <img class="d-block" src="/images/news/{{news.image3}}" style="min-width:100px; min-height:100px;max-width:150px; max-height:150px" alt="">
        
                        </div>
        
        
                    </div>
        
                </div>
        
                <!-- We propose to change image 3 -->
        
                <div class="col pl-md-3">
        
                    <div class="row d-inline-block">
                    
                        <div class="h5 font-weight-bold my-2">
        
                        Changer
        
                        </div>
        
                        {{form_widget(form.image3File)}}
        
                    </div> 
        
                </div>
        
                </div>
        
            <!-- Case no image 3 yet -->
            <!-- We propose an upload -->
        
            {% else %}
        
                <div class="pt-3">
                
                {{form_widget(form.image3File)}}
        
                </div>
        
            {% endif %}

            <!-- Caption Image 3 -->
            
            <div class="">

                {{form_label(form.captionImage3)}}
                {{form_widget(form.captionImage3)}}

            </div>
        
        </div>

    </div>

</div>

    <!-- Video Edition -->

    <h4 class="mb-3 font-weight-bold">Vidéos</h4>

    <div class="container mb-5">

        <div class="row">
                
            <!-- First Video Edition -->

            <div class="col-md-4 p-3 bg-light border border-warning">

                <!-- Form First Video Label -->
            
                <div class="mb-2">
            
                    <span class="textblack"> {{form_label(form.video1)}}</span>
            
                </div>

                <!-- Form Field Video 1 -->
            
                <div class="mb-3">
            
                    {{form_widget(form.video1)}}
            
                </div>
                    
                <!-- Caption Video 1 -->
                
                <div class="">

                    {{form_label(form.captionVideo1)}}
                    {{form_widget(form.captionVideo1)}}

                </div>
            
            
            </div>
                
            <!-- Second Video Edition -->

            <div class="col-md-4 p-3 bg-light border border-warning">

                <!-- Form Second Video Label -->
            
                <div class="mb-2">
            
                    <span class="textblack"> {{form_label(form.video2)}}</span>
            
                </div>

                <!-- Form Field Video 2 -->
            
                <div class="mb-3">
            
                    {{form_widget(form.video2)}}
            
                </div>

                <!-- Caption Video 2 -->
                
                <div class="">

                    {{form_label(form.captionVideo2)}}
                    {{form_widget(form.captionVideo2)}}

                </div>
            
            
            </div>
                
            <!-- Third Video Edition -->

            <div class="col-md-4 p-3 bg-light border border-warning">

                <!-- Form Third Video Label -->
            
                <div class="mb-2">
            
                    <span class="textblack"> {{form_label(form.video3)}}</span>
            
                </div>

                <!-- Form Field Video 3 -->
            
                <div class="mb-3">
            
                    {{form_widget(form.video3)}}
            
                </div>

                <!-- Caption Video 3 -->
                
                <div class="">

                    {{form_label(form.captionVideo3)}}
                    {{form_widget(form.captionVideo3)}}

                </div>
            
        
            </div>
            
        </div>

    </div>

    




    <!-- Action Buttons -->

    <div class="mt-4 mb-5">

        <a href="{{path('index_news', {'slug':slug})}}">
            <button type="button" value="" class="btn btn-lg btn-info sharp font-weight-bold mr-2">
                <span class="h5 font-weight-bold">Retour</span> 
            </button>
        </a>       

        <button class="btn btn-lg btn-success sharp bg-green font-weight-bold">Valider</button>

    </div>

    {{ form_end(form) }}

</div>

{% endblock %}


{% block javascripts %}

    <!-- CDN - TinyMCE Rich Text Editor -->

    <script src="https://cdn.tiny.cloud/1/ozugcg6rtcsvf9xx1qfujj2aluoo7ezwd2pfx5xnwf4nhujq/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>

    <script>
        
        $(document).ready(function(){

            // some styles and translation

            $(".form-check-label").html("Supprimer");
            $(".custom-file").addClass("mt-1");
            $(".vich-image .form-group").before("<hr>");

            // Parameters - TinyMCE Rich Text Editor

            
            tinymce.init({

                mode : "specific_textareas",

                editor_selector : "tinymce",

                //  content_css : '/css/tinymce.css',

                width : "100%",

                height: "350",

                entity_encoding : "raw",

                menubar: 'edit format',

                menu: {

                    edit: { title: 'Edit', items: 'undo redo | cut copy paste | selectall | searchreplace' },

                    format: { title: 'Format', items: 'bold italic underline strikethrough superscript subscript codeformat removeformat' },

                }, 

                language: 'fr_FR',

                plugins: "emoticons, lists",

                toolbar: "undo redo emoticons bullist bold italic underline alignleft aligncenter alignright alignjustify",

                content_style: "body {padding: 0px 15px;}",

                nowrap : false,

                //link_title: false, (only when links plugin will be integrated)
                //target_list: false,
            });

            });

    </script>

{% endblock %}



   


    