
{% for log in projectLogs.getLogs | reverse | slice (0,15) %}

    {# displaying new events for follower (i.e. since last notification page connection) #}

    {# opening a collapsible if more than 4 items #}

    {% if loop.index == 5 %}

        <button id="collapseMoreNotificationsButton{{userFollow.id}}" type="button" data-toggle="collapse" data-target="#collapseMoreNotifications{{userFollow.id}}" aria-expanded="false" aria-controls="collapseMoreNotifications{{userFollow.id}}" class="btn btn-light btn-sm font-weight-bold sharp mt-2">Afficher plus</button>

        <script type="text/javascript">
            var button = document.getElementById('collapseMoreNotificationsButton{{userFollow.id}}')
            button.addEventListener('click',hideshow,false);
        
            function hideshow() {
                this.style.display = 'none'
            }   
        </script>

        <div id="collapseMoreNotifications{{userFollow.id}}" class="collapse">
    
    {% endif %}


    <div 
    
        data-entity-type="{{log.entityType}}"

        data-entity-id='{{log.entityId}}' 

        data-route-name=" 
    
            {{path('show_embed_'~ log.entityType , { "slug" : userFollow.getPresentation.getSlug} ) }}
            
        "   
        class="

            notification-title btn btn-lg d-block text-left sharp cursor-pointer mb-2 font-weight-bold fs-15 

            {% if date(lastConnectionDate) < date(log.date.date) and  not log.creatorId is same as app.user.id %}

                btn-primary

            {% else %}

                btn-light
            
            {% endif %}
            
        "
    >

        {% if log.entityType == "need" %}

            Nouveau besoin présenté

        {% elseif log.entityType == "news" %}

            Nouvelle actualité ajoutée

        {% elseif log.entityType == "event" %}

            Nouvel événement présenté

        {% elseif log.entityType == "teammate" %}

            Nouveau membre dans l'équipe présenté

        {% elseif log.entityType == "document" %}

            Nouveau document présenté

        {% endif %}

        le {{ log.date.date | date('d-m-Y') }}

    </div>

                                    
    {% if loop.last and loop.index >= 5 %}

        </div>
    
    {% endif %}

{% endfor %}