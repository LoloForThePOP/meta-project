{% extends 'base.html.twig' %}

{% block title %}Page de {{user.name}} {% endblock %}

{% block body %}

    <div class="container pl-md-5 mt-4">

        <!-- User Name and Avatar Caps -->

        <div class="row">

            <div class="col-auto pr-3 d-flex justify-content-center">

                        
                {# User Image or Avatar #}

                        {% if user.imageName %}

                            <img class="avatar avatar-medium" src="{{ user.imageName }}" alt="Avatar de {{ user.name }}">

                        {# Default One Letter Avatar #}

                        {% else %}
                                                
                            <div class="avatar-circle">
                                <span class="initials">
                                    {{user.name | slice (0,1) }}
                                </span>
                            </div>
                        
                        {% endif %}


            </div>

            <div class="col-9 pl-0 d-flex align-items-center">

                <h3>{{user.name}}</h3>

            </div>

        </div>

        <!-- Actions Possibilities -->

        <div class="row">
            
            <div class="mt-3">

                {% if user is same as(app.user) %}
                
                <div class="mt-3">

                    <a href="{{ path ('account_profile') }}" class="btn btn-primary mr-2 mb-2">Modifier Mes Informations</a>
                    
                    <a href="{{ path ('account_update_password') }}" class="btn btn-primary mb-2">Modifier Mon Mot de Passe</a>

                </div>

                <div>
                    <a href="{{ path('project_group_new') }}">

                        <button class="btn btn-primary mb-4" type="button">
                            <span class="h5 font-weight-bold">+ Créer un Groupe de Projets</span>
                        </button>

                    </a>
                </div>
                
                {% endif %}

            </div>

        </div>

        <!-- User Projects -->

        <div class="row mt-4">

            {% if user.presentations | length > 0 %}

                <div class="col-9">

                    <h4>
                        <span class="font-weight-bold">{{user.presentations | length}} Projet(s) Présenté(s)</span>
                    </h4>

                    {% for presentation in user.presentations %}

                        {% include 'pp/_display_linear_list.html.twig' %}

                    {% endfor %}

                </div>
        
            {% else %}
        
                <div class="alert alert-warning">
                    <p><strong>Aucun Projet Actuellement Présenté</strong></p>
                </div>
        
            {% endif %}

        </div>

        <!-- User Description Display -->

        <div class="row mt-4 d-flex justify-content-left font-weight-bold">

            <div class="col-7 p-3 border border-primary rounded">
                
                {% if not user.description %}

                    <span class="h5"> 
                        Aucune description de profil n'a été renseignée. 
                    </span>   

                    {% if app.user %}

                    <span class="h5"> 
                        Vous pouvez remplir une description <a href="{{path('account_profile')}}"><button class="btn btn-info font-weight-bold">ici</button></a>
                    </span>

                    {% endif %}

                {% else %}
                
                {{ user.description}}

                {% endif %}
                
            </div>

        </div>

    </div>

{% endblock %}
