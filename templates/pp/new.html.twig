{% extends 'base.html.twig' %}

{% form_theme form 'bootstrap_4_layout.html.twig' %}

{% block title %}Création d'une Présentation de Projet{% endblock %}

{% block body %}

    <div class="container">

        <h2 class="h3 mt-3">Créer une Présentation de Projet</h2>
            
        {{form_start(form)}}
    
        {{form_widget(form)}}
    
        <button type="submit" class="btn btn-primary mb-4">Créer la Nouvelle Présentation</button>

        {{form_end(form)}}

    </div>

{% endblock %}

{% block javascripts %}

<script>$('input[type="file"]').each(function() {
    // get label text
    var label = $(this).parents('.form-group').find('label').text();
    label = (label) ? label : 'Upload File';

    // wrap the file input
    $(this).wrap('<div class="input-file"></div>');
    // display label
    $(this).before('<span class="btn">'+label+'</span>');
    // we will display selected file here
    $(this).before('<span class="file-selected"></span>');

    // file input change listener 
    $(this).change(function(e){
        // Get this file input value
        var val = $(this).val();
        
        // Let's only show filename.
        // By default file input value is a fullpath, something like 
        // C:\fakepath\Nuriootpa1.jpg depending on your browser.
        var filename = val.replace(/^.*[\\\/]/, '');

        // Display the filename
        $(this).siblings('.file-selected').text(filename);
    });
});

// Open the file browser when our custom button is clicked.
$('.input-file .btn').click(function() {
    $(this).siblings('input[type="file"]').trigger('click');
});</script>


{% endblock %}